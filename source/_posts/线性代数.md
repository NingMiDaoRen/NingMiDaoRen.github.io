---
title: 线性代数
declare: true
date: 2021-07-19 10:21:02
tags: [线代]
categories: [数学,计算机基础]
toc: true
---



<meta name="referrer" content="no-referrer" />  

<!--more-->

# 线性代数

[TOC]

本博客是基于MIT 18.06课程而编写，同时假定读者拥有对线性代数的基本认识，如向量，线性组合等基本概念。同时这是一篇工业向的学习方式，像是有数学内容的随笔，**非常不推荐毫无基础的读者阅读**。这里会参杂很多机器学习相关的术语和案例，和纯线性代数有较大出入，甚至这篇博客不能算得上严格的数学。若有谬误之处，请酌情学习。

## Part 1 引入

### 1.1 线性代数的主要任务

线性代数研究的基本对象是向量，向量空间，线性变换和线性方程组。其中解方程组是其中一项较为重要的工作。

注：线性指的是：**加法与数乘**

如在线性回归中的假设函数可以写为：
$$
h_{\theta}(x)=\theta_0+\theta_1x_1+\theta_2x_2+\theta_3x_3+...
$$

### 1.2 行图像与列图像

现存在如下的方程组：
$$
2x-y=0\\
-x+2y=3
$$
行图像很简单，就是单个方程看作函数，画图，上述方程组的解如下：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0901/085741_2d4b1d07_5550632.png "屏幕截图.png")

观察图像可知方程组的解是**(x,y)=(1,2)**

把数字和未知数提取出来，就成了一个数表：
$$
\begin{bmatrix}
2&-1\\
-1&2\\
\end{bmatrix}
\begin{bmatrix}
x\\
y\\
\end{bmatrix}
=
\begin{bmatrix}
0\\
3\\
\end{bmatrix}
$$
这就是用矩阵表示方程。

接着我们来看**列图像**
$$
x\begin{bmatrix}
2\\
-1\\
\end{bmatrix}
+y\begin{bmatrix}
-1\\
2\\
\end{bmatrix}=
\begin{bmatrix}
0\\
3\\
\end{bmatrix}
$$
相同的问题，如果这样书写，含义就变成了：**如何找到等式左边的向量的正确组合从而得到右侧向量**。即找正确的**“线性组合”**，参考之前的结果，以向量的形式进行作图得下图：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0901/090816_e2b48be2_5550632.png "屏幕截图.png")

现在看一个3*3的方程组：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0901/091254_53b6dc9f_5550632.png "屏幕截图.png")

如果按行图像，那么就要画三个函数的图像，其中1,2,3均为平面。

因为方程一在z轴无约束，可以随意沿z轴平移，方程三同理。三个平面交出一个点，那个点就是方程组的解。如果按列图像进行分析：

系数矩阵A：
$$
A=\begin{bmatrix}
2&-1&0\\
-1&2&-1\\
0&-3&4
\end{bmatrix}
b=\begin{bmatrix}
0\\
-1\\
4
\end{bmatrix}
$$

$$
x\begin{bmatrix}
2\\
-1\\
0\\
\end{bmatrix}
+y
\begin{bmatrix}
-1\\
2\\
-3\\
\end{bmatrix}
+z\begin{bmatrix}
0\\
-1\\
4\\
\end{bmatrix}=\begin{bmatrix}
0\\
-1\\
4\\
\end{bmatrix}
$$

在不画图的时候，就能很简单地看出结果**(x,y,z)=(0,0,1)**,然而有时很难直接通过观察向量间线性组合的方式找出结果，所以在下一讲中会讲矩阵的消元法。以求出所有情况的解。

同时，通过线性组合这种方式，还有另一种好处，它在于如果我们把b向量改一改值：
$$
b=\begin{bmatrix}
1\\
1\\
-3\\
\end{bmatrix}\\
x\begin{bmatrix}
2\\
-1\\
0\\
\end{bmatrix}
+y
\begin{bmatrix}
-1\\
2\\
-3\\
\end{bmatrix}
+z\begin{bmatrix}
0\\
-1\\
4\\
\end{bmatrix}=\begin{bmatrix}
1\\
1\\
-3\\
\end{bmatrix}
$$
那么在“基础向量”不变的情况下，只要找出新的系数就可以满足要求(x,y,z)=(1,1,0)

![输入图片说明](https://images.gitee.com/uploads/images/2021/0901/093221_afd305ef_5550632.png "屏幕截图.png")

那么引出一个新的问题：
$$
对任意b，方程组都有解吗？
\\列的线性组合能否覆盖整个三维空间?
$$
 【可以跳过不看，这里所谓的基础向量其实是线性无关的一个向量组中的单个向量，准确地说它们构成了极大线性无关组，构成了一个基Base，那么既然是基就可以表示该线性空间中的所有向量b，即无论b取成什么值，在该线性空间中总能被表示】

对于本问题，答案是”是“，因为本问题的矩阵A是“好的”，“非奇异”，“可逆”的。如果稍稍更改矩阵A，那么问题的答案就变了，如：
$$
A=\begin{bmatrix}
2&-1&4\\
-1&2&-2\\
0&-3&0
\end{bmatrix}
$$
其中两个列向量(col1,col3)成倍数关系，即共线，怎么可能表示一个三维空间呢？

那么如果是n个n维向量的线性组合，它们能否表征整个n维空间呢？

这是线性代数中必须要明白的基本问题。

### 1.3 矩阵与向量乘法

Ax=b
$$
A=\begin{bmatrix}
2&5\\
1&3\\
\end{bmatrix}
x=\begin{bmatrix}
1\\
2\\
\end{bmatrix}
$$
这俩玩意，咋乘？

**解法一 线性组合思想**
$$
\begin{bmatrix}
2&5\\
1&3\\
\end{bmatrix}
\begin{bmatrix}
1\\
2\\
\end{bmatrix}=1\begin{bmatrix}
2\\
1\\
\end{bmatrix}+2\begin{bmatrix}
5\\
3\\
\end{bmatrix}=\begin{bmatrix}
12\\
7\\
\end{bmatrix}
$$
Ax可以看成A每列的线性组合

**解法二 正常运算 (数据量大)**
$$
\begin{bmatrix}
2&5\\
1&3\\
\end{bmatrix}
\begin{bmatrix}
1\\
2\\
\end{bmatrix}=\begin{bmatrix}
2*1+5*2\\
1*1+3*2\\
\end{bmatrix}=\begin{bmatrix}
12\\
7\\
\end{bmatrix}
$$
第一行点乘第一列，第二行点乘第一列

## Part 2 矩阵消元法求方程

#### 2.1 消元法

无论是人还是线性代数库中，求方程组的方式都是消元法，所以今天介绍矩阵的消元法求解方程组。
$$
x+2y+z=2\\
3x+8y+z=12\\
\;\;\;4y+z=2
$$
消元法，消去的是某个**主元 (pivot)**，**主元不能为0**。

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/092903_8d1dab7f_5550632.png "屏幕截图.png")

上述情况是消元法成功的例子，消元完成后**回代**方程即可解出答案（自底向上代入）

那要是消元法“失效”（暂时性失效），怎么办？比如上图中（1,1）元素直接变成 0，第一主元为0，无法进行消元。此时我们只需要第一行和第二行互换即可，即**行变换**。

那什么时候会真失效呢？**当方程的个数少于未知数(自由度)的个数时，或者说矩阵不可逆，或者行列式为0时**，消元法就真失效了。

#### 2.2 使用矩阵描述消元法 (消元矩阵/初等矩阵)

之前，矩阵乘法的一个思想是：**看作矩阵列的线性组合**。

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/094357_50692296_5550632.png "屏幕截图.png")

但是在矩阵消元的时候，我们用的是行，不是列,也就是要看成行的线性组合，像这样：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/095311_3b54ef10_5550632.png "屏幕截图.png")

那么对于上述问题，我们能不能找到一个矩阵进行消元呢？换句话说**找到一个矩阵使矩阵的行发生变化**

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/100425_b415a057_5550632.png "屏幕截图.png")

如何验算结果是否正确？

加入验算等号右侧矩阵的第(2,3)【2行3列】的元素，我们只需要把**等式左侧的第一个矩阵取第2行，第二个矩阵取第3列内积**，就能得出结果：
$$
(-3\;1\;0)(1;1;1)=-3+1+0=-2
$$
嘿嘿，然后，我们定义：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/101112_898b32ec_5550632.png "屏幕截图.png")

这个东西叫做**初等矩阵，符号记作E，因为它是针对第2行第1列的主元进行消元运算的**，所以**记作E~21~**.

按照正常的定义，其实它长这样:

> 单位阵E经过**一次**初等变换（互换，数乘，倍加）得到的矩阵为初等矩阵
>
> 符号：E~2~(k) 表示 第2行/列乘k倍，E~12~，一二行互换,E~12~(k) :第2行/列乘k加到第1行/列上

忘掉上面的正经定义，因为我们的问题还没解决呢，这方程消元才消到一半。我们接着消元：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/102442_e4dac251_5550632.png "屏幕截图.png")

okay，然后我们把他们综合在一起，就可以用矩阵来表示方程组消元了
$$
E_{32}(E_{21}A) = U\;(upper\;triangle)
$$
那么又出现了一个问题，我能不能**只用一个矩阵**来表达上述的过程呢？可以。
$$
(E_{32}E_{21})A = U\;(upper\;triangle)
$$
在矩阵乘法中**括号是可以移动的，但是不能交换位置**，数学术语（符号学壁垒，数学黑话）：**矩阵乘法中交换律不全成立，结合律成立。**

###### 置换矩阵 (Permutation matrix)

**置换矩阵P**其实是初等矩阵的一种，用于交换两行的顺序。规律是：**左乘单位矩阵，单位矩阵行互换了，那么目标矩阵就进行了行互换**

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/103424_e87df672_5550632.png "屏幕截图.png")

如何对列进行交换？

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/103739_82deb2df_5550632.png "屏幕截图.png")

那么，我们之前常说的**左行右列**的规律就是这么来的了。

回到本例题，我们衍生出一个新的问题，**怎么从U变回A？**
$$
(E_{32}E_{21})A = U\;(upper\;triangle)
$$
这就是**逆 (inverse)**,是否可逆是有条件的，但是今天的例子是可逆的。

###### 逆 Inverse

![输入图片说明](https://images.gitee.com/uploads/images/2021/0903/104828_92e053e4_5550632.png "屏幕截图.png")
$$
A=\begin{bmatrix}
1&0&0\\
-3&1&0\\
0&0&1
\end{bmatrix}
\\
A的逆记作A^{-1}
$$

$$
AB = BA = E(单位阵)\\则称A为可逆矩阵,B = A^{-1}
$$

这就是逆矩阵的简单理解，**对消元的一种撤销**

<br>

## Part 3 矩阵乘法和逆矩阵

#### 3.1 矩阵乘法的4种方法

矩阵乘法的前提：

> 矩阵需要长成什么样，才能相乘呢？乘完之后啥样？
>
> 如：A(m×n),B(n×k) => AB = C(m×k)

现有3个矩阵A，B，C。其中C = AB

C~ij~ = A的第i行点乘B的第j列
$$
C_{ij} = \sum^n_{k=1} a_{ik}b_{kj}
$$
矩阵乘法的第二种解法是，把B考虑为由**若干个列向量**拼接的矩阵。矩阵乘法就变成了若干**列的线性组合**了。

![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/102730_53849d69_5550632.png "屏幕截图.png")

同理，我们也可以看作是若干**行的线性组合**。

![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/103626_83861388_5550632.png "屏幕截图.png")

C的第m行，可以看作B的行向量的线性组合。

那么如果矩阵A的列乘B的行，是啥？(m×1)(1×p)

![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/104045_cf7fb697_5550632.png "屏幕截图.png")

结果的列是列向量的倍数，结果的行是行向量的倍数。

分块矩阵的乘法规则，如下图所示：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/104758_49d4a4ff_5550632.png "屏幕截图.png")

#### 3.2 逆矩阵

矩阵的逆，在线性代数中很重要？如何求逆？
$$
AA^{-1}=E=A^{-1}A \;其中A为方阵
$$
具有这样性质的矩阵，称为**可逆矩阵，非奇异矩阵**。然后我们看看下面这个矩阵为什么不可逆？
$$
A=\begin{bmatrix}
2&6\\
1&3\\
\end{bmatrix}
$$

1. 行列式为0 【还没学，不用管它】

2. 矩阵可逆的前提是**找到一个矩阵二者乘积等于单位阵E**，如果把矩阵乘法看作A的列的线性组合即：

$$
B=\begin{bmatrix}
k_1&k_2\\
k_3&k_4\\
\end{bmatrix}\\
k_1\begin{bmatrix}
2\\
1\\
\end{bmatrix}+k_2\begin{bmatrix}
6\\
3\\
\end{bmatrix} = \begin{bmatrix}
0\\
1\\
\end{bmatrix}\\
k_3\begin{bmatrix}
2\\
1\\
\end{bmatrix}+k_4\begin{bmatrix}
6\\
3\\
\end{bmatrix} = \begin{bmatrix}
1\\
0\\
\end{bmatrix}\\
$$

你会发现就找不到这么一组数使得线性组合成立。单位矩阵的每一列都没法被矩阵A的列线性表示。

3. 你可以找到一个向量x使得Ax=0成立，那么A不可逆

$$
Ax=\begin{bmatrix}
1&3\\
2&6\\
\end{bmatrix}\begin{bmatrix}
3\\
-1\\
\end{bmatrix}=3*\begin{bmatrix}
1\\
2\\
\end{bmatrix}-1\begin{bmatrix}
3\\
6\\
\end{bmatrix}=\begin{bmatrix}
0\\
0\\
\end{bmatrix}
$$

如果此时A逆存在则：
$$
Ax=0\\
A^{-1}Ax=0\\
x=0
然而x=\begin{bmatrix}
3\\
-1\\
\end{bmatrix},矛盾。故A^{-1}不存在
$$
那么如何计算逆呢？

设:
$$
A=\begin{bmatrix}
1&3\\
2&7\\
\end{bmatrix}
$$
![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/111549_edf13205_5550632.png "屏幕截图.png")

![输入图片说明](https://images.gitee.com/uploads/images/2021/0904/112155_5214318f_5550632.png "屏幕截图.png")
$$
E为初等矩阵,I为单位阵\\
E\begin{bmatrix}
A&I
\end{bmatrix}=\begin{bmatrix}
I&?
\end{bmatrix}\\
EA=I=>E=A^{-1}\\
EI=E=A^{-1}
$$

#### 3.3 A的LU分解

设A,B为可逆矩阵：
$$
ABB^{-1}A^{-1}=I(identity)\\
B^{-1}A^{-1}AB=I\\
AA^{-1}=I=>(A^{-1})^TA^T=I->(A^{-1})^T=(A^T)^{-1}
$$
在应用消元法时，我们会把矩阵A变成上三角矩阵U，那么A，U间存在某种联系，这就是矩阵L。
$$
A=\begin{bmatrix}
2&1\\
8&7\\
\end{bmatrix}\\
E_{21}A=\begin{bmatrix}
2&1\\
0&3\\
\end{bmatrix}(U)\\
E_{21}=\begin{bmatrix}
1&0\\
-4&1\\
\end{bmatrix}
\\A=LU
\\L=E^{-1}_{21}=\begin{bmatrix}
1&0\\
4&1\\
\end{bmatrix}
$$
L 为下三角矩阵(Lower triangular)

L的作用就是记录了矩阵A消元的过程。

## Part 4 置换与转置和向量空间

Permutations: P 专门做行互换的矩阵或者说：**置换矩阵是行重新排列的单位矩阵**

一个n阶方阵可以进行n！种行互换，即有n!个置换矩阵而且$P^{-1}=P^T$

转置代表的就是行列互换，一个(3*2)的矩阵转置后会变成(2\*3)的矩阵 
$$
A_{ij}^T=A_{ji}
$$
在这个基础上出现了一个很好玩的矩阵-**对称矩阵**
$$
A^T=A\\
\begin{bmatrix}
1&-4&6\\
-4&6&9\\
6&9&0\\
\end{bmatrix}
$$

$$
R^TR总是对称的
$$

![输入图片说明](https://images.gitee.com/uploads/images/2021/0908/102127_14a81082_5550632.png "屏幕截图.png")

WHY？
$$
(R^TR)^T=R^T(R^T)^T=R^TR
$$

#### 4.1 向量空间

什么是向量空间？什么是子空间？

举例:
$$
R^2=所有2维实向量=\;'xy平面'\\
R^3=所有三维向量组成的向量空间=\;'xyz空间'\\
R^n=所有n维列实向量
$$
向量空间有哪些性质？

**加法和数乘封闭->加法和数乘运算后还在本空间内**
$$
R^2的子空间:\{R^2本身,过(0,0)的直线,0向量\}\\
R^3的子空间:\{R^3,平面,直线,0向量\}
$$
如何从矩阵构成子空间？

1. 列向量构造：

![输入图片说明](https://images.gitee.com/uploads/images/2021/0908/104700_a474a96f_5550632.png "屏幕截图.png")

上述矩阵的列的所有的线性组合构成了一个R^3^的子空间 (列空间) 【C(A)】而它们构成了3维空间中的一个平面。如果是两个共线的列向量，它们的线性组合就是一条直线。

![输入图片说明](https://images.gitee.com/uploads/images/2021/0908/105143_a93180f5_5550632.png "屏幕截图.png")

#### 4.2 列空间和零空间

## Part 5 齐次/非齐次线性方程组的解

#### 5.1 AX=0的主变量与特解



#### 5.2 AX=b的可解性与解的结构



### Part 6 线性相关，基，维数

#### 6.1 线性相关

#### 6.2 基

#### 6.3 维数

## Part 7 四种基本子空间

#### 7.1 列空间 C(A)

#### 7.2 零空间 N(A)

#### 7.3 行空间 C(A^T^)

矩阵A行的线性组合

#### 7.4 左零空间 N(A^T^)

![输入图片说明](https://images.gitee.com/uploads/images/2021/0916/085457_aca3db6a_5550632.png "屏幕截图.png")
